# 需求文档

## 文档信息

| 项目 | 内容 |
|------|------|
| 文档版本 | V1.0 |
| 编写日期 | 2025-12-26 |
| 产品定位 | 基于WebKit内核的个人化定制浏览器，聚焦"强个性化、高效浏览、AI赋能" |
| 目标用户 | 追求浏览效率、喜欢自定义界面/功能的个人用户 |
| 核心目标 | 打造贴合个人使用习惯、功能可扩展、交互更人性化的专属浏览器 |

---

## 产品简介

self-web-safiri 是一款基于WebKit内核的跨平台个人定制浏览器，核心价值是极致个性化、场景化高效浏览。区别于主流浏览器的"通用型"设计，该浏览器围绕用户的使用场景（工作、学习、娱乐）拆分功能模块，支持自定义界面、功能扩展、AI辅助，满足个人专属的浏览需求。

### 核心设计原则

1. **个性化**: 所有核心界面/功能支持自定义，无强制默认配置
2. **轻量化**: 核心功能无冗余，插件按需加载，保证启动和运行速度
3. **兼容性**: 兼容Chrome扩展生态、主流Web标准、多操作系统
4. **隐私优先**: 默认开启隐私保护，不收集无意义的用户行为数据
5. **场景化**: 围绕不同使用场景提供差异化功能

---

## 核心功能需求

### 1. 基础浏览功能

作为浏览器的核心底座，需满足基础的网页访问能力：

| 子功能 | 详细需求 |
|--------|---------|
| 网页访问 | 支持HTTP/HTTPS协议、多标签页浏览、页面刷新/前进/后退/停止加载 |
| 地址栏 | 智能联想（历史记录/书签）、直接搜索（可自定义默认搜索引擎）、二维码生成/识别 |
| 历史记录 | 按时间/分组/关键词筛选、一键清空、同步到本地 |
| 书签 | 书签分类、导入/导出（兼容Chrome书签格式）、书签栏显示/隐藏自定义 |
| 下载管理 | 下载进度显示、暂停/继续/取消、下载路径自定义、文件关联打开 |

---

### 2. 工作区功能（核心个性化）

将标签页按"工作区"维度管理，适配不同使用场景：

| 子功能 | 详细需求 |
|--------|---------|
| 工作区创建 | 支持手动创建（命名、选择图标/颜色）、自动创建（按标签页关键词分组） |
| 工作区管理 | 重命名/删除/复制工作区、调整工作区排序、设置工作区默认打开的标签页 |
| 工作区保存/恢复 | 关闭浏览器时自动保存工作区状态，下次启动可一键恢复；支持手动导出工作区配置 |
| 工作区切换 | 顶部快捷栏切换、快捷键切换、右键菜单切换，切换时保留原工作区的标签页状态 |

---

### 3. 标签功能（增强版）

在基础标签页之上强化个性化和易用性：

| 子功能 | 详细需求 |
|--------|---------|
| 标签基础操作 | 新建/关闭/固定标签、拖拽调整顺序、双击标签页关闭/刷新 |
| 标签个性化 | 自定义标签页图标、标签文字颜色/背景色、标签宽度自适应/固定 |
| 标签批量操作 | 批量关闭/移动/收藏标签页、按域名/标题筛选标签页 |
| 标签搜索 | 标签栏内置搜索框，输入关键词快速定位已打开的标签页 |

---

### 4. 阅读器功能（沉浸式阅读）

聚焦"去干扰、易阅读"，适配长文本场景：

| 子功能 | 详细需求 |
|--------|---------|
| 内容自动提取 | 访问文章类网页时自动识别正文，一键进入阅读器模式（屏蔽广告/侧边栏） |
| 阅读样式自定义 | 调整字体（宋体/黑体/等宽）、字号、行间距、背景色（白底/黑底/护眼黄） |
| 阅读进度保存 | 自动保存文章阅读进度，再次打开同一篇文章时定位到上次阅读位置 |
| 辅助阅读功能 | 文字高亮、批注、一键复制纯文本、朗读功能（语音合成） |

---

### 5. AI功能（智能辅助）

轻量化接入AI能力，不冗余、高实用：

| 子功能 | 详细需求 |
|--------|---------|
| 智能搜索 | 地址栏输入问题时，AI直接生成精简答案（无需跳转搜索引擎） |
| 智能摘要 | 阅读器模式下一键生成文章核心摘要（300字以内），支持自定义摘要长度 |
| 智能推荐 | 基于浏览历史，在新标签页推荐相关的优质内容（可关闭推荐） |
| AI辅助阅读 | 选中文字后可触发AI翻译/解释/扩写，支持多语言切换 |

---

### 6. 插件功能（功能扩展）

兼容Chrome生态，降低扩展开发成本：

| 子功能 | 详细需求 |
|--------|---------|
| 插件管理 | 支持安装Chrome扩展（.crx文件）、启用/禁用/卸载插件、查看插件权限 |
| 插件市场（轻量化） | 内置简易插件市场，收录常用插件（广告拦截、密码管理器、翻译），支持手动添加第三方插件 |
| 自定义插件开发 | 提供简单的插件开发文档，支持基于JavaScript编写轻量级自定义插件（如自定义快捷键、页面注入脚本） |

---

### 7. self-Tab（自定义标签页）

打造"个人专属仪表盘"，替代默认新标签页：

| 子功能 | 详细需求 |
|--------|---------|
| 布局自定义 | 支持网格/列表布局，可拖拽调整组件位置、调整组件大小 |
| 组件添加/删除 | 内置组件（天气、待办事项、书签快捷方式、日历、CPU/内存监控），支持自定义添加HTML组件 |
| 样式自定义 | 自定义背景（图片/纯色/渐变）、组件文字样式、标签栏透明度/圆角 |
| 数据同步 | self-Tab的配置（组件、布局、样式）自动保存到本地，支持导出/导入配置 |

---

## 非功能需求

### 1. 性能需求

| 指标 | 要求 |
|------|------|
| 启动速度 | 冷启动时间≤5秒（无插件加载），热启动≤2秒 |
| 页面加载速度 | 兼容Chrome的加载策略，同等网络环境下加载速度不低于Chrome 90% |
| 内存占用 | 单标签页内存占用≤200MB，10个标签页内存占用≤1GB |

---

### 2. 兼容性需求

| 维度 | 要求 |
|------|------|
| 操作系统 | 支持Windows 10+/macOS 12+/Linux（Ubuntu 20.04+） |
| Web标准 | 兼容HTML5/CSS3/ES6+，支持主流前端框架（Vue/React/Angular）开发的网页 |
| 扩展兼容 | 兼容70%以上的Chrome官方扩展（排除依赖Chrome独家API的扩展） |

---

### 3. 易用性需求

- **界面**: 核心功能入口≤2次点击可达，自定义功能有可视化配置面板（无需写代码）
- **快捷键**: 支持自定义快捷键，内置常用操作的默认快捷键
- **提示**: 首次使用核心功能时弹出简易引导提示，支持一键关闭引导

---

### 4. 安全性/隐私需求

- **隐私**: 默认禁用第三方Cookie，支持无痕模式，不记录无痕模式下的浏览历史
- **安全**: 内置恶意网站检测（对接第三方安全库），下载文件自动校验MD5
- **数据**: 用户配置（工作区、self-Tab、插件）默认存储在本地，不强制云端同步

---

## 交互说明

### 1. 工作区切换

- 顶部导航栏显示已创建的工作区标签
- 点击即可切换，悬停显示工作区包含的标签页预览

---

### 2. self-Tab配置

- 新标签页点击"编辑"按钮进入配置模式
- 拖拽组件即可添加/调整，点击"保存"生效

---

### 3. 阅读器模式

- 网页右上角显示"阅读器"图标
- 点击自动进入，阅读器模式下右上角显示"样式设置"按钮

---

### 4. AI辅助阅读

- 选中文字后右键选择"AI翻译/解释/扩写"
- 弹出对话框显示AI生成的内容

---

## 迭代规划

| 版本 | 核心功能 | 预期周期 |
|------|---------|---------|
| V1.0（基础版） | 基础浏览+标签功能+简单分组功能 | 1-2个月（完成核心底座，可正常浏览网页） |
| V2.0（个性化版） | 阅读器功能+self-Tab自定义+样式个性化 | 1个月（强化个性化，完成核心差异化功能） |
| V3.0（扩展版） | 插件功能+完整分组功能+数据导入/导出 | 1.5个月（扩展功能边界，兼容Chrome生态） |
| V4.0（智能版） | AI功能（智能搜索/摘要/翻译）+ 性能优化 | 1-2个月（接入AI能力，优化体验） |
| V5.0（完善版） | 隐私增强+小众功能补充（如截图/录屏） | 1个月（打磨细节，提升稳定性） |

---

## MVP定义

### V1.0 MVP核心功能

- 基础网页浏览（HTTP/HTTPS）
- 多标签页管理
- 简单工作区功能（创建、切换、保存）
- 基础书签和历史记录
- 简单的self-Tab（支持添加组件）

### MVP验证目标

- 验证用户对个性化浏览器的接受度
- 验证工作区功能的实用性
- 收集用户反馈，指导后续功能优先级

---

## 开发注意事项

- 优先实现核心功能，避免功能蔓延
- 每个版本发布后收集用户反馈，调整后续计划
- 性能优化贯穿整个开发周期
- 定期进行代码审查和重构
- 保持技术栈的简洁性，避免过度设计

---

## 产品差异化

self-web-safiri 的核心差异化在于：

1. **极致个性化**: 工作区、标签、self-Tab全面支持自定义
2. **场景化浏览**: 围绕工作、学习、娱乐场景提供差异化功能
3. **AI赋能**: 智能搜索、摘要、翻译等实用AI功能
4. **轻量化设计**: 核心功能无冗余，按需加载插件
5. **隐私优先**: 默认开启隐私保护，数据本地存储

通过分阶段迭代，先完成核心浏览功能，再逐步扩展个性化和AI能力，最终打造一款贴合个人使用习惯的专属浏览器。
